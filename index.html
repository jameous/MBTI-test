<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MBTIæµ‹è¯• - å¯åˆ†äº«é“¾æ¥</title>
    <style>
        :root {
            --bg-gradient-start: #f9d5e5;
            --bg-gradient-end: #d6eaf8;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            --button-bg: #f8bbd0;
            --button-hover: #f48fb1;
            --progress-default: #e0e0e0;
            --progress-completed: #ff9a9a;
            --result-bg-start: #ffd180;
            --result-bg-end: #81d4fa;
            --border-radius: 15px;
        }

        body {
            font-family: 'Comic Sans MS', 'åæ–‡å½©äº‘', sans-serif;
            background: linear-gradient(to bottom, var(--bg-gradient-start), var(--bg-gradient-end));
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            touch-action: manipulation;
        }

        h1 {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        #progress-bar {
            width: 80%;
            max-width: 600px;
            background-color: var(--progress-default);
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            overflow: hidden;
        }

        #progress {
            width: 0%;
            height: 30px;
            background-color: var(--progress-completed);
            border-radius: var(--border-radius);
            transition: width 0.3s ease;
        }

        #question-card {
            background-color: var(--card-bg);
            box-shadow: var(--card-shadow);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        #progress-text {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
        }

        .option {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:active {
            transform: scale(0.95);
        }

        #result {
            display: none;
            background: linear-gradient(to bottom, var(--result-bg-start), var(--result-bg-end));
            border-radius: 30px;
            padding: 40px;
            width: 80%;
            max-width: 600px;
            text-align: center;
            font-family: 'å¾®è½¯é›…é»‘', 'å¹¼åœ†', sans-serif;
        }

        #restart {
            background-color: var(--button-bg);
            border: none;
            border-radius: var(--border-radius);
            padding: 15px 30px;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #restart:active {
            transform: scale(0.95);
        }

        .firework {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: firework 1s ease-out infinite;
        }

        @keyframes firework {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(10);
                opacity: 0;
            }
        }

        @media screen and (max-width: 768px) {
            #question-card, #result {
                padding: 20px;
            }
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .nav-btn {
            background-color: #ffccbc;
            border: none;
            border-radius: var(--border-radius);
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:active {
            transform: scale(0.95);
        }
    </style>
</head>

<body>
    <h1>MBTI æµ‹è¯•</h1>
    <div id="progress-bar">
        <div id="progress"></div>
    </div>
    <div id="question-card">
        <div id="progress-text">0/20</div>
        <p id="question"></p>
        <button class="option" id="option1" onclick="selectOption(0)"></button>
        <button class="option" id="option2" onclick="selectOption(1)"></button>
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()">ä¸Šä¸€ä¸ª</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€ä¸ª</button>
        </div>
    </div>
    <div id="result">
        <h2 id="result-title"></h2>
        <p id="result-description"></p>
        <button id="restart" onclick="restartTest()">å†è¯•ä¸€æ¬¡</button>
    </div>

    <script>
        // æ‰©å±•åˆ°20é¢˜çš„MBTIæµ‹è¯•
        const questions = [
            {
                question: "å½“ä½ å‚åŠ ç¤¾äº¤æ´»åŠ¨æ—¶ï¼Œä½ é€šå¸¸æ˜¯ï¼Ÿ",
                options: ["ä¸»åŠ¨ä¸äººäº¤æµï¼Œç»“è¯†æ–°æœ‹å‹", "æ›´æ„¿æ„å’Œç†Ÿæ‚‰çš„äººå¾…åœ¨ä¸€èµ·"],
                dimension: "EI",
                score0: "E",
                score1: "I"
            },
            {
                question: "åœ¨åšå†³ç­–æ—¶ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ",
                options: ["ä¾é è‡ªå·±çš„æ€è€ƒå’Œåˆ¤æ–­", "å¾æ±‚ä»–äººçš„æ„è§å’Œå»ºè®®"],
                dimension: "SN",
                score0: "N",
                score1: "S"
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§ç±»å‹çš„ç”µå½±ï¼Ÿ",
                options: ["åŠ¨ä½œã€å†’é™©ç±»", "æƒ…æ„Ÿã€å‰§æƒ…ç±»"],
                dimension: "TF",
                score0: "T",
                score1: "F"
            },
            {
                question: "å½“ä½ é¢å¯¹å‹åŠ›æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: ["ç§¯æå¯»æ‰¾è§£å†³åŠæ³•", "éœ€è¦ä¸€äº›æ—¶é—´ç‹¬å¤„æ¥è°ƒæ•´"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "ä½ åœ¨å­¦ä¹ æ–°äº‹ç‰©æ—¶ï¼Œæ›´å€¾å‘äºï¼Ÿ",
                options: ["å®è·µä¸­å­¦ä¹ ", "å…ˆç†è®ºå­¦ä¹ å†å®è·µ"],
                dimension: "EI",
                score0: "E",
                score1: "I"
            },
            {
                question: "ä½ æ›´å–œæ¬¢å’Œä»€ä¹ˆæ ·çš„äººä¸€èµ·å·¥ä½œï¼Ÿ",
                options: ["å……æ»¡æ´»åŠ›ã€æœ‰åˆ›æ„çš„äºº", "ç¨³é‡ã€å¯é çš„äºº"],
                dimension: "SN",
                score0: "N",
                score1: "S"
            },
            {
                question: "ä½ æ›´æ³¨é‡ç”Ÿæ´»ä¸­çš„ï¼Ÿ",
                options: ["æ–°é²œåˆºæ¿€çš„ä½“éªŒ", "ç¨³å®šå’Œå®‰å…¨æ„Ÿ"],
                dimension: "TF",
                score0: "T",
                score1: "F"
            },
            {
                question: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ é€šå¸¸æ‰®æ¼”çš„è§’è‰²æ˜¯ï¼Ÿ",
                options: ["é¢†å¯¼è€…", "æ”¯æŒè€…"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§ä¼‘é—²æ–¹å¼ï¼Ÿ",
                options: ["æˆ·å¤–è¿åŠ¨", "åœ¨å®¶çœ‹ä¹¦æˆ–çœ‹ç”µè§†"],
                dimension: "EI",
                score0: "E",
                score1: "I"
            },
            {
                question: "å½“ä½ æœ‰ä¸€ä¸ªæƒ³æ³•æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: ["é©¬ä¸Šè¡ŒåŠ¨", "å…ˆè®¡åˆ’å¥½å†è¡ŒåŠ¨"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "åœ¨å¤„ç†é—®é¢˜æ—¶ï¼Œä½ æ›´çœ‹é‡ï¼Ÿ",
                options: ["é€»è¾‘å’Œç†æ€§", "æƒ…æ„Ÿå’Œäººé™…å…³ç³»"],
                dimension: "TF",
                score0: "T",
                score1: "F"
            },
            {
                question: "ä½ æ›´å€¾å‘äºå¦‚ä½•è·å–ä¿¡æ¯ï¼Ÿ",
                options: ["é€šè¿‡è§‚å¯Ÿå’Œå®é™…ç»éªŒ", "é€šè¿‡æ€è€ƒå’Œç†è®ºåˆ†æ"],
                dimension: "SN",
                score0: "S",
                score1: "N"
            },
            {
                question: "å½“éœ€è¦åšè®¡åˆ’æ—¶ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ",
                options: ["åˆ¶å®šè¯¦ç»†çš„è®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œ", "çµæ´»åº”å¯¹ï¼Œæ ¹æ®æƒ…å†µè°ƒæ•´"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§ç±»å‹çš„èšä¼šï¼Ÿ",
                options: ["çƒ­é—¹çš„å¤§å‹èšä¼š", "å°å‹çš„ç§å¯†èšä¼š"],
                dimension: "EI",
                score0: "E",
                score1: "I"
            },
            {
                question: "å½“é¢å¯¹æ‰¹è¯„æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: ["å®¢è§‚åˆ†æå¹¶æ”¹è¿›", "æ„Ÿåˆ°å—ä¼¤å¹¶éœ€è¦æ—¶é—´è°ƒæ•´"],
                dimension: "TF",
                score0: "T",
                score1: "F"
            },
            {
                question: "ä½ æ›´å…³æ³¨ç”Ÿæ´»ä¸­çš„ï¼Ÿ",
                options: ["å…·ä½“çš„ç»†èŠ‚å’Œäº‹å®", "æ•´ä½“çš„æ„ä¹‰å’Œæ¨¡å¼"],
                dimension: "SN",
                score0: "S",
                score1: "N"
            },
            {
                question: "åœ¨åšå†³å®šå‰ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ",
                options: ["ä»”ç»†æƒè¡¡å„ç§å¯èƒ½æ€§", "å‡­ç›´è§‰å¿«é€Ÿåšå‡ºå†³å®š"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "ä½ æ›´å–œæ¬¢å“ªç§å·¥ä½œç¯å¢ƒï¼Ÿ",
                options: ["æœ‰æ˜ç¡®çš„è§„åˆ™å’Œç»“æ„", "çµæ´»è‡ªç”±çš„æ°›å›´"],
                dimension: "JP",
                score0: "J",
                score1: "P"
            },
            {
                question: "ä½ é€šå¸¸å¦‚ä½•è¡¨è¾¾è‡ªå·±çš„æƒ…æ„Ÿï¼Ÿ",
                options: ["ç›´æ¥è¡¨è¾¾", "å«è“„å†…æ•›"],
                dimension: "EI",
                score0: "E",
                score1: "I"
            },
            {
                question: "ä½ æ›´å€¾å‘äºï¼Ÿ",
                options: ["å…³æ³¨ç°å®ï¼Œæ³¨é‡å®é™…", "å…³æ³¨æœªæ¥ï¼Œå¯Œæœ‰æƒ³è±¡åŠ›"],
                dimension: "SN",
                score0: "S",
                score1: "N"
            }
        ];

        let currentQuestionIndex = 0;

        function showQuestion() {
            const questionElement = document.getElementById('question');
            const option1Element = document.getElementById('option1');
            const option2Element = document.getElementById('option2');
            const progressTextElement = document.getElementById('progress-text');
            const progressElement = document.getElementById('progress');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            const currentQuestion = questions[currentQuestionIndex];
            questionElement.textContent = currentQuestion.question;
            option1Element.textContent = currentQuestion.options[0];
            option2Element.textContent = currentQuestion.options[1];

            // æ¢å¤é€‰é¡¹æŒ‰é’®çš„é»˜è®¤æ ·å¼
            option1Element.style.backgroundColor = '';
            option2Element.style.backgroundColor = '';
            
            // å¦‚æœè¯¥é—®é¢˜å·²æœ‰ç­”æ¡ˆï¼Œé«˜äº®æ˜¾ç¤º
            if (currentQuestion.answer === 0) {
                option1Element.style.backgroundColor = '#ff8a80';
            } else if (currentQuestion.answer === 1) {
                option2Element.style.backgroundColor = '#ff8a80';
            }

            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressElement.style.width = `${progress}%`;
            progressTextElement.textContent = `${currentQuestionIndex + 1}/${questions.length}`;

            // æ§åˆ¶ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªæŒ‰é’®çš„æ˜¾ç¤ºçŠ¶æ€
            prevBtn.disabled = currentQuestionIndex === 0;
            prevBtn.style.opacity = currentQuestionIndex === 0 ? '0.5' : '1';
            nextBtn.disabled = currentQuestionIndex === questions.length - 1;
            nextBtn.style.opacity = currentQuestionIndex === questions.length - 1 ? '0.5' : '1';
        }

        function selectOption(optionIndex) {
            questions[currentQuestionIndex].answer = optionIndex;
            showQuestion(); // æ›´æ–°é€‰é¡¹æŒ‰é’®çš„æ ·å¼
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                // å¦‚æœå·²ç»æ˜¯æœ€åä¸€é¢˜ï¼Œç›´æ¥è®¡ç®—ç»“æœ
                document.getElementById('progress-text').style.display = 'none';
                calculateResult();
            }
        }

        function calculateResult() {
            // åˆå§‹åŒ–å„ç»´åº¦åˆ†æ•°
            const scores = {
                E: 0, I: 0,
                S: 0, N: 0,
                T: 0, F: 0,
                J: 0, P: 0
            };

            // ç»Ÿè®¡æ¯ä¸ªç»´åº¦çš„å¾—åˆ†
            for (let i = 0; i < questions.length; i++) {
                const question = questions[i];
                if (question.answer !== null) {
                    const scoreKey = question.answer === 0 ? question.score0 : question.score1;
                    scores[scoreKey]++;
                }
            }

            // ç¡®å®šæ¯ä¸ªç»´åº¦çš„ç±»å‹
            const e = scores.E > scores.I? 'E' : 'I';
            const n = scores.N > scores.S? 'N' : 'S';
            const t = scores.T > scores.F? 'T' : 'F';
            const j = scores.J > scores.P? 'J' : 'P';

            const resultType = e + n + t + j;
            let resultDescription = '';

            // æ ¹æ®MBTIç±»å‹ç»™å‡ºå¯¹åº”çš„è¶£å‘³æç¤º
            switch (resultType) {
                case 'INTJ':
                    resultDescription = 'ä½ æ˜¯å¯Œæœ‰åˆ›é€ åŠ›çš„æˆ˜ç•¥å®¶ğŸ§ ï¼Œæ€»èƒ½çœ‹åˆ°åˆ«äººçœ‹ä¸åˆ°çš„å¯èƒ½æ€§ï¼Œæœªæ¥çš„é¢†è¢–å°±æ˜¯ä½ ï¼';
                    break;
                case 'ENTJ':
                    resultDescription = 'ä½ æ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…ğŸ‘‘ï¼Œæ‹¥æœ‰å“è¶Šçš„ç»„ç»‡å’Œå†³ç­–èƒ½åŠ›ï¼Œå¸¦é¢†å›¢é˜Ÿå†²é”‹é™·é˜µï¼';
                    break;
                case 'INTP':
                    resultDescription = 'ä½ æ˜¯å……æ»¡å¥½å¥‡å¿ƒçš„æ€è€ƒè€…ğŸ”ï¼Œå–œæ¬¢æ¢ç´¢ç†è®ºå’Œæ¦‚å¿µï¼Œæ€»èƒ½æå‡ºç‹¬ç‰¹çš„è§è§£ï¼';
                    break;
                case 'ENTP':
                    resultDescription = 'ä½ æ˜¯èªæ˜æœºæ™ºçš„è¾©è®ºå®¶ğŸ’¬ï¼Œå–œæ¬¢æŒ‘æˆ˜ä¼ ç»Ÿæ€ç»´ï¼Œæ€»èƒ½æ‰¾åˆ°åˆ›æ–°çš„è§£å†³æ–¹æ¡ˆï¼';
                    break;
                case 'INFJ':
                    resultDescription = 'ä½ æ˜¯å¯Œæœ‰æ´å¯ŸåŠ›çš„ç†æƒ³ä¸»ä¹‰è€…âœ¨ï¼Œå–„äºç†è§£ä»–äººçš„æƒ…æ„Ÿå’Œéœ€æ±‚ï¼Œæ˜¯å›¢é˜Ÿçš„ç²˜åˆå‰‚ï¼';
                    break;
                case 'ENFJ':
                    resultDescription = 'ä½ æ˜¯çƒ­æƒ…æ´‹æº¢çš„æ•™è‚²å®¶ğŸ‘©ğŸ«ï¼Œå–„äºæ¿€åŠ±å’Œå¼•å¯¼ä»–äººï¼Œæ€»èƒ½è¥é€ ç§¯æå‘ä¸Šçš„æ°›å›´ï¼';
                    break;
                case 'INFP':
                    resultDescription = 'ä½ å†…å¿ƒæŸ”è½¯åˆæµªæ¼«ğŸ¤—ï¼Œå……æ»¡åŒæƒ…å¿ƒå’Œæƒ³è±¡åŠ›ï¼Œæ˜¯ç”Ÿæ´»ä¸­çš„è¯—äººï¼';
                    break;
                case 'ENFP':
                    resultDescription = 'ä½ å°±åƒå°å¤ªé˜³ğŸ˜œï¼Œçƒ­æƒ…åˆæœ‰åˆ›æ„ï¼Œèµ°åˆ°å“ªéƒ½èƒ½å¸¦æ¥æ¬¢ä¹ï¼';
                    break;
                case 'ISTJ':
                    resultDescription = 'ä½ ç¨³é‡å¯é ğŸ‘Œï¼Œæ³¨é‡ç»†èŠ‚å’Œç§©åºï¼Œæ˜¯å›¢é˜Ÿé‡Œçš„å®šæµ·ç¥é’ˆï¼';
                    break;
                case 'ESTJ':
                    resultDescription = 'ä½ æ˜¯é«˜æ•ˆåŠ¡å®çš„ç®¡ç†è€…ğŸ’¼ï¼Œå–œæ¬¢æŒ‰ç…§è®¡åˆ’è¡Œäº‹ï¼Œæ€»èƒ½æŠŠäº‹æƒ…å®‰æ’å¾—äº•äº•æœ‰æ¡ï¼';
                    break;
                case 'ISFJ':
                    resultDescription = 'ä½ æ˜¯æ¸©æš–ä½“è´´çš„å®ˆæŠ¤è€…ğŸ‘¼ï¼Œæ€»æ˜¯é»˜é»˜å…³å¿ƒä»–äººï¼Œæ˜¯å›¢é˜Ÿä¸­ä¸å¯æˆ–ç¼ºçš„æ”¯æŒè€…ï¼';
                    break;
                case 'ESFJ':
                    resultDescription = 'ä½ æ˜¯å‹å¥½å¤–å‘çš„ç¤¾äº¤å®¶ğŸ¤ï¼Œå–„äºä¸äººç›¸å¤„ï¼Œæ€»èƒ½è®©å‘¨å›´çš„äººæ„Ÿåˆ°èˆ’é€‚å’Œæ„‰å¿«ï¼';
                    break;
                case 'ISTP':
                    resultDescription = 'ä½ æ˜¯å†·é™ç†æ™ºçš„å®è·µè€…ğŸ”§ï¼Œå–œæ¬¢åŠ¨æ‰‹è§£å†³é—®é¢˜ï¼Œå¯¹æœºæ¢°å’ŒæŠ€æœ¯æœ‰å¤©ç”Ÿçš„æ‚Ÿæ€§ï¼';
                    break;
                case 'ESTP':
                    resultDescription = 'ä½ æ˜¯å¤§èƒ†å†’é™©çš„æŒ‘æˆ˜è€…ğŸ‚ï¼Œå–œæ¬¢åˆºæ¿€å’ŒæŒ‘æˆ˜ï¼Œæ€»èƒ½åœ¨æé™ä¸­æ‰¾åˆ°ä¹è¶£ï¼';
                    break;
                case 'ISFP':
                    resultDescription = 'ä½ æ˜¯æ¸©æŸ”æ•æ„Ÿçš„è‰ºæœ¯å®¶ğŸ¨ï¼Œå¯¹ç¾æœ‰ç‹¬ç‰¹çš„æ„ŸçŸ¥åŠ›ï¼Œæ€»èƒ½åˆ›é€ å‡ºä»¤äººæƒŠå¹çš„ä½œå“ï¼';
                    break;
                case 'ESFP':
                    resultDescription = 'ä½ æ˜¯æ´»åŠ›å››å°„çš„è¡¨æ¼”è€…ğŸŒŸï¼Œå–œæ¬¢æˆä¸ºç„¦ç‚¹ï¼Œæ€»èƒ½å¸¦ç»™èº«è¾¹çš„äººæ— å°½çš„æ¬¢ä¹ï¼';
                    break;
                default:
                    resultDescription = `ä½ çš„ MBTI ç±»å‹æ˜¯ ${resultType}âœ¨ï¼Œç‹¬ç‰¹åˆæœ‰é­…åŠ›ï¼`;
            }

            showResult(resultType, resultDescription);
        }

        function showResult(resultType, resultDescription) {
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const resultTitle = document.getElementById('result-title');
            const resultDescriptionElement = document.getElementById('result-description');

            questionCard.style.display = 'none';
            resultElement.style.display = 'block';
            resultTitle.textContent = resultType;
            resultDescriptionElement.textContent = resultDescription;

            createFireworks();
        }

        function createFireworks() {
            const numFireworks = 50;
            for (let i = 0; i < numFireworks; i++) {
                const firework = document.createElement('div');
                firework.classList.add('firework');
                firework.style.left = `${Math.random() * window.innerWidth}px`;
                firework.style.top = `${Math.random() * window.innerHeight}px`;
                const colors = ['#ff69b4', '#ffff00', '#00bfff'];
                firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                document.body.appendChild(firework);
            }
        }

        function restartTest() {
            currentQuestionIndex = 0;
            for (let i = 0; i < questions.length; i++) {
                questions[i].answer = null;
            }
            const questionCard = document.getElementById('question-card');
            const resultElement = document.getElementById('result');
            const fireworks = document.querySelectorAll('.firework');
            document.getElementById('progress-text').style.display = 'block';

            fireworks.forEach(firework => firework.remove());
            questionCard.style.display = 'block';
            resultElement.style.display = 'none';
            showQuestion();
        }

        showQuestion();
    </script>
</body>

</html>    
